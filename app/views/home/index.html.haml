%body
  = render "header/header"

  .top-container
    .top-container-message
      %img{ src: asset_path("top-page-image2.png"), alt: "Top Page Image", class: "top-image" }
      %h1 ã‚ˆã†ã“ããƒãƒ«ã‚·ã‚§ã¸
      %p ç§ãŸã¡ã®ãƒãƒ«ã‚·ã‚§ã¯ã€åœ°åŸŸã¨äººã€…ã‚’ã¤ãªãã‚¤ãƒ™ãƒ³ãƒˆã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ¼ã§ã™ã€‚
      %p ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€šã˜ã¦ã€æ¥½ã—ã„ãŠå‡ºã‹ã‘ã¨æ€ã„å‡ºã‚’ä½œã‚Šã¾ã›ã‚“ã‹ï¼Ÿ
      %p æ¥½ã—ã„å‡ºä¼šã„ã‚’è¦‹ã¤ã‘ã«ã„ã“ã†ï¼

    .top-btn-container
      .event-container 
        .event-btn
          = link_to events_path, class: "btn-primary" do
            .link_inner
              %h3 ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§

      .facility-container 
        .facility-btn
          = link_to facilities_path, class: "btn-secondary" do
            .link_inner
              %h3 å‡ºåº—ä¸€è¦§

      .upcoming-events-container
        .upcoming-events-button
          = link_to events_path(filter: "recent"), class: "btn-secondary" do
            .link_inner
              %h3 é–‹å‚¬é–“è¿‘ã®<br>ã‚¤ãƒ™ãƒ³ãƒˆ

  .pickup-contaner
    %h2 æ³¨ç›®ã‚¤ãƒ™ãƒ³ãƒˆãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—
  .pickup-top
    .pickup-slider
      - if @featured_events.present?
        - @featured_events.each do |event|
          .event-item
            - if event.images.attached? && event.images.any?
              = link_to event_path(event) do
                = image_tag event.images.first, alt: event.title, class: "event-image"
            - else
              = link_to event_path(event) do
                .event-no-image
                  = image_tag "no_image_square.jpg", alt: "no image", class: "event-no-image"
            %h3
              = link_to event.title, event_path(event)
            %p é–‹å‚¬æ—¥
            - if event.start_time.present?
              = event.start_time.strftime("%Y/%m/%d")
            - else
              æœªå®š
            %p è©³ç´°
            = truncate(event.description, length: 50)
      - else
        %p æ³¨ç›®ã‚¤ãƒ™ãƒ³ãƒˆã¯ç¾åœ¨ã‚ã‚Šã¾ã›ã‚“ã€‚

    = paginate @featured_events

  .news-section
    %h2 ãŠçŸ¥ã‚‰ã›   
  .column-section 
    .section.news
      %h3 NEWS
      .news-list-scroll
        %ul
          - if @notices.present?
            - @notices.each do |notice|
              %li
                .news-contaier 
                  .news-contaier-date
                    = notice.published_at.strftime("%Y/%m/%d") if notice.published_at
                  %strong= notice.title
                %p= simple_format(notice.content)
          - else
            %p ãŠçŸ¥ã‚‰ã›ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
        
    .popular-events-container
      %h3 ä»Šé€±ã®äººæ°—ã‚¤ãƒ™ãƒ³ãƒˆãƒ©ãƒ³ã‚­ãƒ³ã‚°
      .popular-events-list
        - if @popular_events.present?
          - @popular_events.each_with_index do |event, index|
            .popular-event-item{ class: "rank-#{index + 1}" }
              .rank-badge
                = "ç¬¬#{index + 1}ä½"
              .event-content
                .event-image-container
                  - if event.images.attached? && event.images.any?
                    = link_to event_path(event) do
                      = image_tag event.images.first, alt: event.title, class: "popular-event-image"
                  - else
                    = link_to event_path(event) do
                      = image_tag "no_image_square.jpg", alt: "no image", class: "popular-event-image"
                .event-info
                  = link_to event.title, event_path(event), class: "event-title-link"
                  %p.event-prefecture
                    ğŸ“ é–‹å‚¬åœ°ï¼š
                    - if event.prefecture.present?
                      = event.prefecture
                    - else
                      æœªå®š
                  %p.event-date
                    ğŸ“… é–‹å‚¬æ—¥ï¼š
                    - if event.start_time.present?
                      = event.start_time.strftime("%Y/%m/%d")
                    - else
                      æœªå®š
                  %p.views-count
                    ğŸ” ä»Šé€±ã®é–²è¦§æ•°ï¼š
                    = event.try(:[], 'views_count_this_week') || event.attributes['views_count_this_week'] || 0
                    å›
        - else
          .no-popular-events
            %p ä»Šé€±ã¯ã¾ã äººæ°—ã‚¤ãƒ™ãƒ³ãƒˆãŒã‚ã‚Šã¾ã›ã‚“ã€‚
            %p ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€äººæ°—ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ä½œã‚Šä¸Šã’ã¾ã—ã‚‡ã†ï¼

  .section.events
    %h2 è¿‘æ—¥é–‹å‚¬ã®ã‚¤ãƒ™ãƒ³ãƒˆ
    .event-list
      - if @recent_events.present?
        - @recent_events.each do |event|
          .event-item
            - if event.images.attached? && event.images.any?
              = link_to event_path(event) do
                = image_tag event.images.first, alt: event.title, class: "event-image"
            - else
              .event-no-image
                = image_tag "no_image_square.jpg", alt: "no image", class: "event-no-image"
            %h3
              = link_to event.title, event_path(event)
            %p é–‹å‚¬æ—¥
            - if event.start_time.present?
              = event.start_time.strftime("%Y/%m/%d")
            - else
              æœªå®š
            %p è©³ç´°
            = truncate(event.description, length: 50)
      - else
        %p è¿‘æ—¥é–‹å‚¬ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

  .section.recruitment
    %h2 å‡ºåº—è€…å‹Ÿé›†!! 
    .recruitment-content
      %p å‡ºåº—è€…ã‚’å‹Ÿé›†ã—ã¦ã„ã¾ã™ã€‚äº‹æ¥­æ‰€ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‘ŠçŸ¥ã—ãŸã„æ–¹ã‚„å‡ºåº—ã™ã‚‹æƒ…å ±ã‚’å‘ŠçŸ¥ã—ãŸã„æ–¹ã¯ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰å‘ŠçŸ¥è¦é …ã‚’ã‚’ã”è¦§ãã ã•ã„ã€‚
      .recruitment-link
        = link_to recruitment_path do
          å‡ºåº—è€…å‹Ÿé›†è¦é …ã¸
    .recruitment-image
      = image_tag "slider1.png", alt: "å‡ºåº—è€…å‹Ÿé›†ã®ã‚¤ãƒ¡ãƒ¼ã‚¸", class: "recruitment-image"

  .section.description
    %h2 ã¤ãªãŒã‚‹ãƒãƒ«ã‚·ã‚§ã«ã¤ã„ã¦
    .marche-description
      %p ç§ãŸã¡ã®ãƒãƒ«ã‚·ã‚§ã¯ã€åœ°åŸŸã¨äººã€…ã‚’ã¤ãªãå‡ºä¼šã„ã®å ´ã§ã™ã€‚ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€šã˜ã¦ã€æ¥½ã—ã„ãŠå‡ºã‹ã‘ã¨æ€ã„å‡ºã‚’ä½œã‚Šã¾ã›ã‚“ã‹ï¼Ÿ
      %p ã‚¤ãƒ™ãƒ³ãƒˆã«å‡ºåº—ã™ã‚‹äº‹æ¥­æ‰€ã•ã¾ã‚„å€‹äººäº‹æ¥­ä¸»ã€å›£ä½“ã®æ–¹ã€…ã‚’å‹Ÿé›†ã—ã¦ã„ã¾ã™ã€‚
      å‡ºåº—ã™ã‚‹ã“ã¨ã§ã€åœ°åŸŸã®äººã€…ã¨ã¤ãªãŒã‚Šã€æ–°ã—ã„å‡ºä¼šã„ã‚’æ¥½ã—ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚
      %p ã“ã®ãƒãƒ«ã‚·ã‚§ã«æ²è¼‰ã•ã‚Œã¦ã„ã‚‹ãŠåº—ã«å‡ºã‹ã‘ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
      æ¥½ã—ã„ã‚¤ãƒ™ãƒ³ãƒˆãŒé–‹å‚¬ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã£ã¨æ–°ã—ã„ç™ºè¦‹ãŒè¦‹ã¤ã‹ã‚‹ã¯ãšã§ã™ã€‚

  = render "footer/footer"
